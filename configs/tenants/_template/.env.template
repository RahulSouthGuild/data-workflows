# ==============================================================================
# Pidilite DataWiz - Tenant Environment Variables Template
# ==============================================================================
# This file contains all secrets and credentials for a tenant.
# NEVER commit this file to git!
#
# Usage:
#   1. Copy this template: cp .env.template .env
#   2. Fill in actual values (remove placeholders)
#   3. Ensure .env is in .gitignore
#
# Last Updated: 2025-01-16
# ==============================================================================

# ==============================================================================
# Database Credentials (StarRocks)
# ==============================================================================
# Database password for this tenant's StarRocks user
DB_PASSWORD=your_database_password_here


# ==============================================================================
# Cloud Storage Provider Credentials
# ==============================================================================
# Choose ONE section based on your storage_provider in config.yaml

# -----------------------------------------------------------------------------
# AZURE BLOB STORAGE
# -----------------------------------------------------------------------------
# If storage_provider: azure and auth_method: connection_string
# AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=youraccount;AccountKey=yourkey;EndpointSuffix=core.windows.net

# If storage_provider: azure and auth_method: sas_token
# AZURE_SAS_TOKEN=sv=2023-01-01&ss=b&srt=sco&sp=rwdlacx&se=2026-01-01T00:00:00Z&st=2025-01-01T00:00:00Z&spr=https&sig=yoursignature

# If storage_provider: azure and auth_method: service_principal
# AZURE_TENANT_ID=your-azure-tenant-id
# AZURE_CLIENT_ID=your-azure-client-id
# AZURE_CLIENT_SECRET=your-azure-client-secret

# -----------------------------------------------------------------------------
# AWS S3
# -----------------------------------------------------------------------------
# If storage_provider: aws and auth_method: access_key
# AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
# AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY

# If storage_provider: aws and auth_method: iam_role
# No credentials needed - uses IAM role from EC2/ECS instance

# Optional: AWS session token (for temporary credentials)
# AWS_SESSION_TOKEN=your-session-token

# -----------------------------------------------------------------------------
# GOOGLE CLOUD STORAGE
# -----------------------------------------------------------------------------
# If storage_provider: gcp and auth_method: service_account
# Paste the entire JSON key file content as a single line (or use file path)
# GCP_SERVICE_ACCOUNT_JSON={"type":"service_account","project_id":"your-project",...}

# Alternative: Path to JSON key file
# GCP_SERVICE_ACCOUNT_FILE=/path/to/service-account-key.json

# If storage_provider: gcp and auth_method: workload_identity
# No credentials needed - uses workload identity from GKE

# -----------------------------------------------------------------------------
# MINIO (S3-compatible)
# -----------------------------------------------------------------------------
# If storage_provider: minio
# MINIO_ACCESS_KEY=your-minio-access-key
# MINIO_SECRET_KEY=your-minio-secret-key

# -----------------------------------------------------------------------------
# LOCAL FILESYSTEM
# -----------------------------------------------------------------------------
# If storage_provider: local
# No credentials needed


# ==============================================================================
# Business Constants Backend Credentials
# ==============================================================================
# Choose ONE section based on business_constants.backend in config.yaml
# Replace {FIRST_8_UUID} with first 8 characters of your tenant UUID
# Example: If tenant_id = 3607d64c-c13f-40bb-ba76-1339b1590bf5
#          Then use: BC_3607d64c_PG_URI

# -----------------------------------------------------------------------------
# POSTGRESQL
# -----------------------------------------------------------------------------
# If business_constants.backend: postgres
# BC_{FIRST_8_UUID}_PG_URI=postgresql://username:password@host:port/database
# Example:
# BC_3607d64c_PG_URI=postgresql://bc_user:bc_password@localhost:5432/metadata_db

# -----------------------------------------------------------------------------
# MYSQL
# -----------------------------------------------------------------------------
# If business_constants.backend: mysql
# BC_{FIRST_8_UUID}_MYSQL_URI=mysql://username:password@host:port/database
# Example:
# BC_3607d64c_MYSQL_URI=mysql://bc_user:bc_password@localhost:3306/metadata_db

# -----------------------------------------------------------------------------
# MONGODB
# -----------------------------------------------------------------------------
# If business_constants.backend: mongodb
# BC_{FIRST_8_UUID}_MONGO_URI=mongodb://username:password@host:port/database
# Example:
# BC_3607d64c_MONGO_URI=mongodb://bc_user:bc_password@localhost:27017/metadata_db

# Advanced MongoDB URI with options:
# BC_3607d64c_MONGO_URI=mongodb://user:pass@host:port/db?authSource=admin&replicaSet=rs0

# -----------------------------------------------------------------------------
# STARROCKS
# -----------------------------------------------------------------------------
# If business_constants.backend: starrocks
# No separate credentials needed - uses main DB_PASSWORD


# ==============================================================================
# Email Notification Credentials (Optional)
# ==============================================================================
# SMTP credentials for sending email notifications
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-app-specific-password

# For Gmail: Generate app-specific password at https://myaccount.google.com/apppasswords


# ==============================================================================
# Observability & Monitoring (Optional)
# ==============================================================================
# Signoz authentication (if using secured Signoz)
# SIGNOZ_API_KEY=your-signoz-api-key

# Custom observability endpoint (if different from default)
# SIGNOZ_ENDPOINT=http://signoz-collector:4317


# ==============================================================================
# Advanced: Encryption Keys (Optional)
# ==============================================================================
# If using field-level encryption (future feature)
# ENCRYPTION_KEY=your-32-byte-base64-encoded-key


# ==============================================================================
# Advanced: API Keys (Optional)
# ==============================================================================
# If integrating with external APIs
# EXTERNAL_API_KEY=your-api-key
# EXTERNAL_API_SECRET=your-api-secret


# ==============================================================================
# Security Best Practices
# ==============================================================================
# 1. NEVER commit this file to git
#    - Ensure configs/tenants/*/.env is in .gitignore
#
# 2. Use strong passwords
#    - Minimum 16 characters
#    - Mix of uppercase, lowercase, numbers, symbols
#
# 3. Rotate credentials regularly
#    - Set reminder to rotate every 90 days
#
# 4. Use secret management tools (production)
#    - AWS Secrets Manager
#    - Azure Key Vault
#    - Google Secret Manager
#    - HashiCorp Vault
#
# 5. Restrict file permissions
#    chmod 600 .env  # Only owner can read/write
#
# 6. Use separate credentials per environment
#    - Development: .env.dev
#    - Staging: .env.staging
#    - Production: .env.prod
#
# 7. Audit access logs
#    - Monitor who accesses these credentials
#    - Enable CloudTrail/Audit Logs in cloud providers
# ==============================================================================


# ==============================================================================
# Variable Naming Convention
# ==============================================================================
# Format: {PROVIDER}_{PURPOSE}[_{SUFFIX}]
#
# Examples:
#   AZURE_STORAGE_CONNECTION_STRING     (Azure storage connection)
#   AWS_ACCESS_KEY_ID                   (AWS access key)
#   GCP_SERVICE_ACCOUNT_JSON            (GCP service account)
#   BC_3607d64c_PG_URI                  (Business constants PostgreSQL)
#   DB_PASSWORD                         (Database password)
#   SMTP_PASSWORD                       (Email SMTP password)
#
# Tenant-specific prefixes:
#   BC_{FIRST_8_UUID}_   Business constants backend
#   {TENANT_SLUG}_       Custom tenant-specific variables
# ==============================================================================


# ==============================================================================
# Environment-Specific Variables (Optional)
# ==============================================================================
# If running in different environments, add environment indicator
# ENVIRONMENT=development  # development, staging, production

# Debug mode (set to "true" only in development)
# DEBUG=false


# ==============================================================================
# Validation Checklist
# ==============================================================================
# Before enabling this tenant, verify:
#
# □ Replaced all placeholder values
# □ Removed template comments
# □ Tested database connection with DB_PASSWORD
# □ Tested cloud storage connection with credentials
# □ Tested business constants backend connection
# □ File permissions set to 600 (chmod 600 .env)
# □ .env is in .gitignore
# □ Credentials are strong and unique
# □ All required variables are set (no empty values)
# □ Ran: python scripts/validate_tenant_config.py {tenant_slug}
# ==============================================================================
